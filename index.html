<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>é’æ£®é›ªå›½ä¹‹æ—… 2.19-2.23 (æœ€ç»ˆæ‰§è¡Œç‰ˆ)</title>
    <!-- å¼•å…¥ React å’Œ Tailwind CSS -->
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/panzoom@9.4.3/dist/panzoom.min.js"></script>
    <style>
        /* éšè—æ»šåŠ¨æ¡ä½†ä¿ç•™åŠŸèƒ½ï¼Œæå‡æ‰‹æœºç«¯ä½“éªŒ */
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
        body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif; background-color: #f8fafc; }
        .animate-fade-in { animation: fadeIn 0.5s ease-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // --- 1. å›¾æ ‡ç»„ä»¶åº“ (Icon System) ---
        const Icons = {
            Snowflake: (props) => <svg {...props} fill="none" stroke="currentColor" viewBox="0 0 24 24" strokeWidth="2"><path strokeLinecap="round" strokeLinejoin="round" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z" /></svg>,
            Flame: (props) => <svg {...props} fill="none" stroke="currentColor" viewBox="0 0 24 24" strokeWidth="2"><path strokeLinecap="round" strokeLinejoin="round" d="M17.657 18.657A8 8 0 016.343 7.343S7 9 9 10c0-2 .5-5 2.986-7C14 5 16.09 5.777 17.656 7.343A7.975 7.975 0 0120 13a7.975 7.975 0 01-2.343 5.657z" /><path strokeLinecap="round" strokeLinejoin="round" d="M9.879 16.121A3 3 0 1012.015 11L11 14H9c0 .768.293 1.536.879 2.121z" /></svg>,
            Mountain: (props) => <svg {...props} fill="none" stroke="currentColor" viewBox="0 0 24 24" strokeWidth="2"><path strokeLinecap="round" strokeLinejoin="round" d="M13 10V3L4 14h7v7l9-11h-7z" /></svg>,
            Train: (props) => <svg {...props} fill="none" stroke="currentColor" viewBox="0 0 24 24" strokeWidth="2"><path strokeLinecap="round" strokeLinejoin="round" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z" /></svg>,
            Bus: (props) => <svg {...props} fill="none" stroke="currentColor" viewBox="0 0 24 24" strokeWidth="2"><path strokeLinecap="round" strokeLinejoin="round" d="M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4" /></svg>,
            Hotel: (props) => <svg {...props} fill="none" stroke="currentColor" viewBox="0 0 24 24" strokeWidth="2"><path strokeLinecap="round" strokeLinejoin="round" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4" /></svg>,
            Utensils: (props) => <svg {...props} fill="none" stroke="currentColor" viewBox="0 0 24 24" strokeWidth="2"><path strokeLinecap="round" strokeLinejoin="round" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253" /></svg>,
            CheckSquare: (props) => <svg {...props} fill="none" stroke="currentColor" viewBox="0 0 24 24" strokeWidth="2"><path strokeLinecap="round" strokeLinejoin="round" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>,
            Clock: (props) => <svg {...props} fill="none" stroke="currentColor" viewBox="0 0 24 24" strokeWidth="2"><path strokeLinecap="round" strokeLinejoin="round" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>,
            Map: (props) => <svg {...props} fill="none" stroke="currentColor" viewBox="0 0 24 24" strokeWidth="2"><path strokeLinecap="round" strokeLinejoin="round" d="M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7" /></svg>,
            ArrowUpRight: (props) => <svg {...props} fill="none" stroke="currentColor" viewBox="0 0 24 24" strokeWidth="2"><path strokeLinecap="round" strokeLinejoin="round" d="M7 11.5V14m0-2.5v-6a1.5 1.5 0 113 0m-3 6a1.5 1.5 0 00-3 0v2a7.5 7.5 0 0015 0v-5a1.5 1.5 0 00-3 0m-6-3V11m0-5.5v-1a1.5 1.5 0 013 0v1m0 0V11m0-5.5a1.5 1.5 0 013 0v3m0 0V11" /></svg>,
            Info: (props) => <svg {...props} fill="none" stroke="currentColor" viewBox="0 0 24 24" strokeWidth="2"><path strokeLinecap="round" strokeLinejoin="round" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>,
            Soup: (props) => <svg {...props} fill="none" stroke="currentColor" viewBox="0 0 24 24" strokeWidth="2"><path strokeLinecap="round" strokeLinejoin="round" d="M13 10V3L4 14h7v7l9-11h-7z" /></svg>,
            Camera: (props) => <svg {...props} fill="none" stroke="currentColor" viewBox="0 0 24 24" strokeWidth="2"><path strokeLinecap="round" strokeLinejoin="round" d="M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z" /><path strokeLinecap="round" strokeLinejoin="round" d="M15 13a3 3 0 11-6 0 3 3 0 016 0z" /></svg>,
            Car: (props) => <svg {...props} fill="none" stroke="currentColor" viewBox="0 0 24 24" strokeWidth="2"><path strokeLinecap="round" strokeLinejoin="round" d="M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4" /></svg>,
            ShoppingBag: (props) => <svg {...props} fill="none" stroke="currentColor" viewBox="0 0 24 24" strokeWidth="2"><path strokeLinecap="round" strokeLinejoin="round" d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z" /></svg>,
            List: (props) => <svg {...props} fill="none" stroke="currentColor" viewBox="0 0 24 24" strokeWidth="2"><path strokeLinecap="round" strokeLinejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2" /></svg>,
            Luggage: (props) => <svg {...props} fill="none" stroke="currentColor" viewBox="0 0 24 24" strokeWidth="2"><path strokeLinecap="round" strokeLinejoin="round" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10" /></svg>,
            AlertTriangle: (props) => <svg {...props} fill="none" stroke="currentColor" viewBox="0 0 24 24" strokeWidth="2"><path strokeLinecap="round" strokeLinejoin="round" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z" /></svg>,
            Ticket: (props) => <svg {...props} fill="none" stroke="currentColor" viewBox="0 0 24 24" strokeWidth="2"><path strokeLinecap="round" strokeLinejoin="round" d="M15 5v2m0 4v2m0 4v2M5 5a2 2 0 00-2 2v3a2 2 0 110 4v3a2 2 0 002 2h14a2 2 0 002-2v-3a2 2 0 110-4V7a2 2 0 00-2-2H5z" /></svg>,
            MapPin: (props) => <svg {...props} fill="none" stroke="currentColor" viewBox="0 0 24 24" strokeWidth="2"><path strokeLinecap="round" strokeLinejoin="round" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" /><path strokeLinecap="round" strokeLinejoin="round" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" /></svg>,
            Bed: (props) => <svg {...props} fill="none" stroke="currentColor" viewBox="0 0 24 24" strokeWidth="2"><path strokeLinecap="round" strokeLinejoin="round" d="M5 12h14M5 12a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v4a2 2 0 01-2 2M5 12a2 2 0 00-2 2v4a2 2 0 002 2h14a2 2 0 002-2v-4a2 2 0 00-2-2m-2-4h.01M17 16h.01" /></svg>
        };

        // --- 2. ç•Œé¢å­ç»„ä»¶ ---

        const DayTab = ({ active, onClick, day, date }) => (
            <button onClick={onClick} className={`flex-1 py-3 flex flex-col items-center justify-center transition-all border-b-4 ${active ? 'border-sky-500 bg-white text-sky-800' : 'border-transparent text-slate-400 hover:text-slate-600 hover:bg-slate-50'}`}>
                <span className="text-[10px] font-extrabold uppercase tracking-widest">Day {day}</span>
                <span className="text-sm font-bold">{date}</span>
            </button>
        );

        const ViewTab = ({ active, onClick, icon: Icon, label }) => (
            <button onClick={onClick} className={`flex-1 py-2.5 flex items-center justify-center gap-2 text-xs font-bold transition-all border-r border-slate-100 last:border-0 ${active ? 'text-sky-700 bg-sky-50 shadow-inner' : 'text-slate-400 hover:bg-white'}`}>
                <Icon className={`w-4 h-4 ${active ? 'text-sky-600' : 'text-slate-400'}`} />
                {label}
            </button>
        );

        const HighlightCard = ({ title, time, icon: Icon, description, colorClass, badge, subtext }) => (
            <div className={`rounded-xl p-4 border shadow-sm ${colorClass} mb-4 relative overflow-hidden group hover:shadow-md transition-all`}>
                <div className="absolute -right-6 -top-6 opacity-10 rotate-12 transform scale-150"><Icon className="w-32 h-32" /></div>
                <div className="relative z-10 flex gap-4">
                    <div className="bg-white/90 p-3 rounded-xl shadow-sm h-min backdrop-blur-sm shrink-0"><Icon className="w-6 h-6" /></div>
                    <div className="flex-1">
                        <div className="flex items-center gap-2 mb-1.5">
                            <span className="text-[10px] font-bold px-2 py-0.5 rounded-full bg-white/60 backdrop-blur-sm border border-black/5">{time}</span>
                            {badge && <span className="text-[10px] font-bold px-2 py-0.5 rounded-full bg-rose-500 text-white shadow-sm animate-pulse">{badge}</span>}
                        </div>
                        <h3 className="font-bold text-lg leading-tight mb-1">{title}</h3>
                        <p className="text-sm opacity-90 leading-relaxed mb-2">{description}</p>
                        {subtext && <div className="text-xs bg-white/40 p-2 rounded-lg font-medium flex items-center gap-1.5"><Icons.Info className="w-3 h-3" /> {subtext}</div>}
                    </div>
                </div>
            </div>
        );

        const TimelineItem = ({ time, title, desc, icon: Icon, type = 'default' }) => {
            let iconBg = 'bg-white border-slate-100 text-slate-500';
            if (type === 'transport') iconBg = 'bg-sky-50 border-sky-100 text-sky-600';
            if (type === 'luggage') iconBg = 'bg-amber-50 border-amber-200 text-amber-600';
            if (type === 'warning') iconBg = 'bg-rose-50 border-rose-200 text-rose-600';
            if (type === 'highlight') iconBg = 'bg-indigo-50 border-indigo-200 text-indigo-600';

            return (
                <div className="flex gap-4 relative pl-2 group">
                    <div className="absolute left-[19px] top-8 bottom-[-16px] w-0.5 bg-slate-200 group-last:hidden"></div>
                    <div className="relative z-10 flex flex-col items-center">
                        <div className={`w-10 h-10 rounded-full flex items-center justify-center border-2 shadow-sm transition-colors ${iconBg}`}><Icon className="w-4 h-4" /></div>
                    </div>
                    <div className="pb-8 flex-1">
                        <div className="flex items-baseline justify-between mb-1">
                            <h4 className="font-bold text-slate-800 text-sm">{title}</h4>
                            <span className="text-xs font-mono text-slate-400 font-medium">{time}</span>
                        </div>
                        <p className="text-xs text-slate-500 leading-relaxed bg-white p-2.5 rounded-lg border border-slate-100 shadow-sm">{desc}</p>
                    </div>
                </div>
            );
        };

        const ChecklistItem = ({ text, crucial = false }) => {
            const [checked, setChecked] = useState(false);
            return (
                <div onClick={() => setChecked(!checked)} className={`flex items-start gap-3 p-3 rounded-xl border cursor-pointer transition-all mb-2 ${checked ? 'bg-emerald-50 border-emerald-200' : 'bg-white border-slate-200 hover:border-slate-300'}`}>
                    <div className={`w-5 h-5 rounded border flex items-center justify-center mt-0.5 transition-colors ${checked ? 'bg-emerald-500 border-emerald-500' : 'bg-white border-slate-300'}`}>
                        {checked && <Icons.CheckSquare className="w-3.5 h-3.5 text-white" />}
                    </div>
                    <div className="flex-1">
                        <p className={`text-sm font-medium transition-colors ${checked ? 'text-emerald-800 line-through opacity-70' : 'text-slate-700'}`}>{text}</p>
                        {crucial && !checked && <span className="inline-block mt-1 text-[10px] bg-rose-100 text-rose-600 px-1.5 py-0.5 rounded font-bold">æé‡è¦</span>}
                    </div>
                </div>
            );
        };

        const HotelCard = ({ name, type, tags, description, checkInTime }) => (
            <div className="bg-white rounded-xl border border-slate-200 shadow-sm overflow-hidden mb-4">
                <div className="bg-slate-800 p-3 text-white flex justify-between items-center">
                    <div className="flex items-center gap-2"><Icons.Hotel className="w-4 h-4 text-sky-400" /><span className="font-bold text-sm">{name}</span></div>
                    <span className="text-[10px] bg-white/20 px-2 py-0.5 rounded">{type}</span>
                </div>
                <div className="p-4">
                    <div className="flex flex-wrap gap-2 mb-3">
                        {tags.map((tag, i) => <span key={i} className="text-[10px] bg-slate-100 text-slate-600 px-2 py-1 rounded font-medium">{tag}</span>)}
                    </div>
                    <p className="text-xs text-slate-600 leading-relaxed mb-3">{description}</p>
                    {checkInTime && <div className="flex items-center gap-2 text-xs font-bold text-slate-500 bg-slate-50 p-2 rounded"><Icons.Clock className="w-3 h-3" /> å»ºè®®å…¥ä½: {checkInTime}</div>}
                </div>
            </div>
        );

        // --- 3. ä¸»åº”ç”¨ç¨‹åº ---

        function App() {
            const [activeDay, setActiveDay] = useState(1);
            const [activeView, setActiveView] = useState('timeline');
            const [jrStatusDay1, setJrStatusDay1] = useState('Normal'); 
            const [busStatusDay2, setBusStatusDay2] = useState('Normal');
            
            // åªæœ‰ Day 3 å’Œ Day 4 æ˜¾ç¤ºé›ªåœºåœ°å›¾é€‰é¡¹
            const showSkiTab = activeDay === 3 || activeDay === 4;

            useEffect(() => {
                const panEl = document.getElementById('ski-map-pan');
                if (panEl && window.panzoom) {
                    window.panzoom(panEl, {
                        maxZoom: 4,
                        minZoom: 1,
                        bounds: true,
                        boundsPadding: 0.1
                    });
                }
            }, []);

            return (
                <div className="max-w-md mx-auto bg-slate-50 min-h-screen font-sans border-x border-slate-200 shadow-2xl flex flex-col">
                    
                    {/* é¡¶éƒ¨ Header */}
                    <div className="bg-slate-900 text-white p-4 sticky top-0 z-50 shadow-lg">
                        <div className="flex justify-between items-center">
                            <div>
                                <h1 className="text-lg font-bold flex items-center gap-2"><Icons.Snowflake className="w-5 h-5 text-sky-400" /> é’æ£®é›ªå›½å…¨æ”»ç•¥</h1>
                                <p className="text-slate-400 text-xs mt-0.5">2.19 - 2.23 (5å¤©4å¤œ)</p>
                            </div>
                            <div className="bg-gradient-to-r from-sky-500 to-indigo-500 px-3 py-1 rounded-full text-xs font-bold shadow-lg">Final V6.0</div>
                        </div>
                    </div>

                    {/* æ—¥æœŸå¯¼èˆªæ  */}
                    <div className="flex bg-white shadow-sm sticky top-[72px] z-40 overflow-x-auto no-scrollbar">
                        {[1,2,3,4,5].map(d => <DayTab key={d} active={activeDay === d} onClick={() => { setActiveDay(d); if(d!==3 && d!==4 && activeView==='ski') setActiveView('timeline'); }} day={d} date={`2/${18+d}`} />)}
                    </div>

                    {/* è§†å›¾åˆ‡æ¢æ  */}
                    <div className="flex border-b border-slate-200 bg-white sticky top-[130px] z-30 shadow-sm">
                        <ViewTab active={activeView === 'timeline'} onClick={() => setActiveView('timeline')} icon={Icons.Clock} label="æ—¶é—´è½´" />
                        {showSkiTab && <ViewTab active={activeView === 'ski'} onClick={() => setActiveView('ski')} icon={Icons.Map} label="é›ªåœºåœ°å›¾" />}
                        <ViewTab active={activeView === 'hotel'} onClick={() => setActiveView('hotel')} icon={Icons.Hotel} label="ä½å®¿" />
                        <ViewTab active={activeView === 'check'} onClick={() => setActiveView('check')} icon={Icons.List} label="æ¸…å•" />
                    </div>

                    <div className="flex-1 overflow-y-auto p-4 custom-scrollbar pb-20">
                        {/* ================= DAY 1: å¼˜å‰/æš–ç‚‰ ================= */}
                        {activeDay === 1 && (
                            <div className="animate-fade-in">
                                {activeView === 'timeline' && (
                                    <>
                                        <h3 className="text-xs font-extrabold text-orange-500 uppercase tracking-widest mb-4 flex items-center gap-2"><Icons.Flame className="w-4 h-4" /> Day 1: æš–ç‚‰åˆ—è½¦</h3>
                                        <TimelineItem time="11:00" title="å¼˜å‰ç«™å¯„å­˜è¡Œæ" desc="âš ï¸ å­˜åœ¨1æ¥¼ã€‚å…¨å¤©è½»è£…ï¼Œæ™šä¸Šå›ç«™å–ã€‚" icon={Icons.Luggage} type="luggage" />
                                        
                                        <div className="bg-white rounded-xl border border-slate-200 p-2 mb-6 shadow-sm">
                                            <div className="text-[10px] text-center text-slate-400 font-bold uppercase mb-1">12:00 JR çŠ¶å†µ</div>
                                            <div className="grid grid-cols-2 gap-2">
                                                <button onClick={() => setJrStatusDay1('Normal')} className={`py-2 rounded text-xs font-bold ${jrStatusDay1 === 'Normal' ? 'bg-orange-500 text-white' : 'bg-slate-100 text-slate-500'}`}>JR æ­£å¸¸</button>
                                                <button onClick={() => setJrStatusDay1('Suspended')} className={`py-2 rounded text-xs font-bold ${jrStatusDay1 === 'Suspended' ? 'bg-slate-500 text-white' : 'bg-slate-100 text-slate-500'}`}>JR åœè¿</button>
                                            </div>
                                        </div>

                                        {jrStatusDay1 === 'Normal' ? (
                                            <>
                                                <TimelineItem time="12:10" title="Resort ç™½ç¥å·" desc="å‰å¾€äº”æ‰€å·åŸ (éœ€é¢„çº¦)ã€‚" icon={Icons.Train} type="transport" />
                                                <TimelineItem time="13:00" title="ğŸ”¥ å…ˆä¹°æš–ç‚‰ç¥¨" desc="ä¸‹è½¦ç¬¬ä¸€ä»¶äº‹ï¼šä¹°æ´¥è½»é“é“ç¥¨(ç°é‡‘)ã€‚" icon={Icons.Ticket} type="warning" />
                                                <TimelineItem time="13:10" title="ç«‹ä½æ­¦å¤šä¹‹é¦†" desc="30åˆ†é’Ÿé€Ÿè§ˆå·¨å‹ç¯ç¬¼ã€‚" icon={Icons.MapPin} />
                                                <HighlightCard title="æš–ç‚‰åˆ—è½¦" time="14:10" icon={Icons.Flame} description="çƒ¤é±¿é±¼ï¼Œå–æ¸…é…’ï¼Œçœ‹é›ªæ™¯ã€‚" colorClass="bg-orange-50 border-orange-200 text-orange-900" badge="å¤‡ç°é‡‘" />
                                            </>
                                        ) : (
                                            <TimelineItem time="12:50" title="Plan B" desc="JRåœè¿ï¼Œæ”¹åå·´å£«æˆ–æ¸¸è§ˆå¼˜å‰å¸‚åŒºã€‚" icon={Icons.Info} />
                                        )}

                                        <HighlightCard title="å¤§é³„æ—¥å½’æ¸©æ³‰" time="18:15" icon={Icons.Soup} description="æ™šé¤ï¼šè±†èŠ½æ‹‰é¢ã€‚ æ¸©æ³‰ï¼šéœ²å¤©é›ªè§é£å•ã€‚" colorClass="bg-indigo-50 border-indigo-200 text-indigo-900" badge="Lo. 19:00" />
                                        <TimelineItem time="20:45" title="å–è¡Œæ & å…¥ä½" desc="å–å›æ—©ä¸Šçš„è¡Œæï¼Œå…¥ä½ä¸œæ¨ªINNã€‚" icon={Icons.Hotel} type="luggage" />
                                    </>
                                )}
                                {activeView === 'hotel' && <HotelCard name="Toyoko Inn Hirosaki Ekimae" type="å•†åŠ¡é¥­åº—" tags={["å…è´¹æ—©é¤", "è½¦ç«™1åˆ†é’Ÿ", "é«˜æ€§ä»·æ¯”"]} description="æ ‡å‡†åŒ–æ—¥å¼å•†åŠ¡é¥­åº—ã€‚ä¼˜ç‚¹æ˜¯æå…¶å¹²å‡€ã€ä½ç½®ç»ä½³ã€‚å…è´¹æ—©é¤æœ‰ç®€å•çš„é¥­å›¢å’Œå‘³å™Œæ±¤ã€‚" checkInTime="21:00" />}
                                {activeView === 'check' && (
                                    <div className="space-y-3">
                                        <ChecklistItem text="é¢„çº¦ Resort ç™½ç¥å· (12:10) æŒ‡å®šå¸­" crucial={true} />
                                        <ChecklistItem text="å‡†å¤‡ 20,000 æ—¥å…ƒç°é‡‘ (æš–ç‚‰/å·´å£«ä¸æ”¶å¡)" crucial={true} />
                                        <ChecklistItem text="æ—©ä¸Šè¡Œæå¿…é¡»å¯„å­˜åœ¨å¼˜å‰ç«™ 1 æ¥¼" crucial={true} />
                                        <ChecklistItem text="å¤§é³„ Wani Come æ™šé¤ 19:00 å…³é—¨ï¼Œå…ˆåƒå†æ³¡" crucial={true} />
                                    </div>
                                )}
                            </div>
                        )}

                        {/* ================= DAY 2: å²©æœ¨å±±/å†¬ä¹‹æ«» ================= */}
                        {activeDay === 2 && (
                            <div className="animate-fade-in">
                                {activeView === 'timeline' && (
                                    <>
                                        <h3 className="text-xs font-extrabold text-pink-500 uppercase tracking-widest mb-4 flex items-center gap-2"><Icons.Mountain className="w-4 h-4" /> Day 2: å²©æœ¨å±± & ç¯å…‰ç§€</h3>
                                        <TimelineItem time="08:50" title="é€€æˆ¿ & å­˜è¡Œæ" desc="âš ï¸ è¡Œæç»§ç»­å­˜å¼˜å‰ç«™ï¼æ™šä¸Šå›ç«™è½¬è½¦ã€‚" icon={Icons.Luggage} type="luggage" />
                                        <TimelineItem time="09:10" title="å¼˜å—å·´å£« (æ¯æœ¨å¹³çº¿)" desc="ã€ç”Ÿæ­»çº¿ã€‘3å·æœˆå°ï¼Œå‡†æ—¶å‘è½¦ã€‚" icon={Icons.Bus} type="transport" />
                                        <HighlightCard title="å²©æœ¨å±±ç¥ç¤¾" time="09:50" icon={Icons.Mountain} description="é›ªä¸­çº¢è‰²é¸Ÿå±…ï¼Œæ´¥è½»å¯Œå£«ã€‚" colorClass="bg-slate-100 border-slate-200 text-slate-800" />
                                        
                                        <div className="bg-white rounded-xl border border-slate-200 p-2 mb-6 shadow-sm">
                                            <div className="text-[10px] text-center text-slate-400 font-bold uppercase mb-1">12:40 å›ç¨‹å·´å£«</div>
                                            <div className="grid grid-cols-2 gap-2">
                                                <button onClick={() => setBusStatusDay2('Normal')} className={`py-2 rounded text-xs font-bold ${busStatusDay2 === 'Normal' ? 'bg-green-500 text-white' : 'bg-slate-100 text-slate-500'}`}>èµ¶ä¸Šå·´å£«</button>
                                                <button onClick={() => setBusStatusDay2('Missed')} className={`py-2 rounded text-xs font-bold ${busStatusDay2 === 'Missed' ? 'bg-rose-500 text-white' : 'bg-slate-100 text-slate-500'}`}>é”™è¿‡äº†</button>
                                            </div>
                                        </div>

                                        {busStatusDay2 === 'Normal' ? (
                                            <TimelineItem time="12:40" title="å›ç¨‹: å¸‚å½¹æ‰€å‰ä¸‹è½¦" desc="âš ï¸ ä¸è¦åå›å¼˜å‰ç«™ï¼" icon={Icons.Bus} type="warning" />
                                        ) : (
                                            <TimelineItem time="14:40" title="ä¸‹ä¸€ç­å·´å£«" desc="è¡Œç¨‹å»¶è¯¯ï¼Œæ”¾å¼ƒåˆé¤ååº—ï¼Œç›´å¥”å…¬å›­ã€‚" icon={Icons.AlertTriangle} type="warning" />
                                        )}

                                        <TimelineItem time="13:25" title="Salon de cafe Ange" desc="æ´‹é¦†è‹¹æœå’–å“©åˆé¤ã€‚" icon={Icons.Utensils} />
                                        <HighlightCard title="å†¬ä¹‹æ¨±Â·ç¯å…‰ç§€" time="16:30" icon={Icons.Snowflake} description="å¼˜å‰å…¬å›­å¤–æ¿ ã€‚ç²‰è‰²ç¯å…‰ç…§äº®ç§¯é›ªæ¨±èŠ±ã€‚" colorClass="bg-pink-50 border-pink-200 text-pink-900" badge="å¿…çœ‹" />
                                        
                                        <TimelineItem time="17:50" title="æ‰“è½¦å›ç«™å–è¡Œæ" desc="å–è¡Œæåå»åå¼˜å—é“é“ã€‚" icon={Icons.Luggage} type="luggage" />
                                        <TimelineItem time="18:00" title="å¼˜å—é“é“ + æ‰“è½¦" desc="å‰å¾€å—ç”°æ¸©æ³‰ (é”™è¿‡æ¥é©³è½¦æ–¹æ¡ˆ)ã€‚" icon={Icons.Train} type="transport" />
                                        <HighlightCard title="è‹¹æœé£å•" time="21:00" icon={Icons.Soup} description="æ¼‚æµ®çœŸå®çº¢è‹¹æœçš„æ¸©æ³‰ã€‚" colorClass="bg-red-50 border-red-200 text-red-900" />
                                    </>
                                )}
                                {activeView === 'hotel' && <HotelCard name="å—ç”°æ¸©æ³‰ Hotel Apple Land" type="æ¸©æ³‰é¥­åº—" tags={["è‹¹æœé£å•", "æ´¥è½»ä¸‰å‘³çº¿"]} description="æ‹›ç‰Œæ˜¯å¤§æµ´åœºæ¼‚æµ®è‘—æ— æ•°çœŸå®çº¢è‹¹æœã€‚æ™šä¸Š 20:00 å¤§å ‚æœ‰å…è´¹çš„æ´¥è½»ä¸‰å‘³çº¿æ¼”å¥ã€‚" checkInTime="18:30" />}
                                {activeView === 'check' && (
                                    <div className="space-y-3">
                                        <ChecklistItem text="æ­»å®ˆ 09:10 å»ç¨‹å’Œ 12:40 å›ç¨‹å·´å£«" crucial={true} />
                                        <ChecklistItem text="å›ç¨‹å·´å£«åŠ¡å¿…åœ¨ã€Œå¸‚å½¹æ‰€å‰ã€ä¸‹è½¦" crucial={true} />
                                        <ChecklistItem text="å‡†å¤‡æ™šä¸Šè‡ªè¡Œå‰å¾€é¥­åº—çš„äº¤é€šè´¹ (çº¦ 2000 æ—¥å…ƒ)" />
                                    </div>
                                )}
                            </div>
                        )}

                        {/* ================= DAY 3: ç§»å‹•/æ»‘é›ª ================= */}
                        {activeDay === 3 && (
                            <div className="animate-fade-in">
                                {activeView === 'timeline' && (
                                    <>
                                        <h3 className="text-xs font-extrabold text-sky-600 uppercase tracking-widest mb-4 flex items-center gap-2"><Icons.Snowflake className="w-4 h-4" /> Day 3: ç›´å¥”é›ªå±±</h3>
                                        <TimelineItem time="08:30" title="é€€æˆ¿" desc="åœ¨é¥­åº—å¤§å ‚ç­‰å¾…å‡ºç§Ÿè½¦ã€‚" icon={Icons.Hotel} />
                                        <TimelineItem time="09:00" title="å‡ºç§Ÿè½¦ç›´è¾¾" desc="Hokusei/Green Taxi (12,500æ—¥å…ƒ)ã€‚" icon={Icons.Car} type="warning" />
                                        <TimelineItem time="10:00" title="æŠµè¾¾ Rockwood Hotel" desc="å…¥ä½/å¯„å­˜è¡Œæï¼Œ1F ç§Ÿèµè£…å¤‡ã€‚" icon={Icons.Hotel} />
                                        <HighlightCard title="å…¨æ—¥æ»‘é›ª" time="11:00" icon={Icons.Snowflake} description="Aomori Springã€‚ä»ä¸Šåˆå°±èƒ½å¼€å§‹æ»‘ã€‚" colorClass="bg-sky-50 border-sky-200 text-sky-900" />
                                        <TimelineItem time="13:00" title="åˆé¤" desc="Ramen House æ‹‰é¢æˆ–è‡ªå¤‡ã€‚" icon={Icons.Utensils} />
                                        <TimelineItem time="19:00" title="é¥­åº—è‡ªåŠ©æ™šé¤" desc="æ´¥è½»ç¾é£Ÿè‡ªåŠ©ã€‚" icon={Icons.Utensils} />
                                    </>
                                )}
                                {activeView === 'ski' && (
                                    <div className="space-y-4">
                                        {/* åµŒå…¥é›ªåœºåœ°å›¾ (æœ¬åœ°æ–‡ä»¶ + æ”¯æŒç¼©æ”¾/æ‹–æ‹½) */}
                                        <div
                                            id="ski-map-pan"
                                            className="rounded-xl overflow-hidden shadow-lg border border-slate-200 bg-white"
                                            style={{ touchAction: 'none' }}
                                        >
                                            <img 
                                                src="./assetsski-map.png" 
                                                alt="Aomori Spring Ski Resort Map" 
                                                className="w-full h-auto object-cover select-none"
                                                draggable={false}
                                            />
                                            <div className="p-3 bg-slate-800 text-white text-xs text-center flex justify-center items-center gap-2">
                                                <Icons.Map className="w-4 h-4"/> 2026 å®˜æ–¹é›ªé“å›¾ï¼ˆå¯ç¼©æ”¾ï¼‰
                                            </div>
                                        </div>

                                        <div className="bg-sky-50 p-4 rounded-xl border border-sky-200">
                                            <h4 className="font-bold text-sky-800 flex items-center gap-2 mb-2"><Icons.Mountain className="w-4 h-4"/> å…³é”®æ•°æ® (PDFæå–)</h4>
                                            <div className="grid grid-cols-2 gap-2 text-xs text-sky-700">
                                                <div className="bg-white p-2 rounded shadow-sm"><strong>Gondola:</strong> 2,967m (ç›´è¾¾å±±é¡¶)</div>
                                                <div className="bg-white p-2 rounded shadow-sm"><strong>Quad 2:</strong> 1,449m (å¸¸ç”¨)</div>
                                                <div className="bg-white p-2 rounded shadow-sm"><strong>Diamond Lift:</strong> 1,139m</div>
                                                <div className="bg-white p-2 rounded shadow-sm"><strong>æœ€é•¿æ»‘èµ°:</strong> 3.4km</div>
                                            </div>
                                        </div>
                                        
                                        <h4 className="text-xs font-bold text-slate-400 uppercase mt-4 mb-2">æ¨èè·¯çº¿</h4>
                                        <div className="bg-green-50 p-3 rounded-lg border border-green-200 mb-2">
                                            <div className="flex justify-between items-center mb-1"><div className="font-bold text-green-800 text-sm">Sunshine Course</div><span className="text-[10px] bg-green-200 px-2 rounded">Beginner</span></div>
                                            <p className="text-xs text-green-700">åœ°å›¾æœ€å³ä¾§ã€‚3.4km é•¿æ»‘é“ï¼Œä»å±±é¡¶ Gondola ç«™ä¸€è·¯æ»‘å›é¥­åº—ï¼Œé£æ™¯ç»ä½³ã€‚</p>
                                        </div>
                                        <div className="bg-blue-50 p-3 rounded-lg border border-blue-200 mb-2">
                                            <div className="flex justify-between items-center mb-1"><div className="font-bold text-blue-800 text-sm">Twister Course</div><span className="text-[10px] bg-blue-200 px-2 rounded">Intermediate</span></div>
                                            <p className="text-xs text-blue-700">åœ°å›¾å·¦ä¾§ã€‚2.2km æ›²æŠ˜è·¯çº¿ï¼Œé€‚åˆè¿›é˜¶ç»ƒä¹ ã€‚</p>
                                        </div>
                                        
                                        <h4 className="text-xs font-bold text-slate-400 uppercase mt-4 mb-2">é¤å…è®¾æ–½ (åœ°å›¾ç¼–å·)</h4>
                                        <div className="grid grid-cols-2 gap-2">
                                            <div className="bg-white border p-2 rounded text-xs"><strong>6. Ramen House</strong><br/><span className="text-slate-400">å±±è„š (åˆé¤é¦–é€‰)</span></div>
                                            <div className="bg-white border p-2 rounded text-xs"><strong>1. Rockwood Hall</strong><br/><span className="text-slate-400">é¥­åº—å†… (æ™šé¤)</span></div>
                                            <div className="bg-white border p-2 rounded text-xs"><strong>4. Mountain Cafe</strong><br/><span className="text-slate-400">åŠå±±è…°ä¼‘æ¯</span></div>
                                            <div className="bg-white border p-2 rounded text-xs"><strong>2. Restaurant KAIZAN</strong><br/><span className="text-slate-400">é¥­åº—å†…</span></div>
                                        </div>
                                    </div>
                                )}
                                {activeView === 'hotel' && <HotelCard name="Rockwood Hotel & Spa" type="æ»‘é›ªåº¦å‡æ‘" tags={["Ski-in/out", "éœ²å¤©æº«æ³‰", "è‡ªåŠ©é¤"]} description="ä½äºå²©æœ¨å±±è…°ï¼Œå‡ºé—¨å³æ˜¯é›ªåœºã€‚éœ²å¤©æ¸©æ³‰å¯ä»¥çœºæœ›æ—¥æœ¬æµ·å’Œæ´¥è½»å¹³åŸã€‚" checkInTime="10:00 (å…ˆå­˜è¡Œæ)" />}
                                {activeView === 'check' && (
                                    <div className="space-y-3">
                                        <ChecklistItem text="ç¡®è®¤å‡ºç§Ÿè½¦å·²é¢„çº¦ (09:00, 12,500æ—¥å…ƒ)" crucial={true} />
                                        <ChecklistItem text="æå‰å‡†å¤‡å¥½åˆé¤/é›¶é£Ÿ (å±±ä¸Šè´µ)" />
                                        <ChecklistItem text="ç¡®è®¤æ»‘é›ªç§Ÿèµå°ºå¯¸" />
                                    </div>
                                )}
                            </div>
                        )}

                        {/* ================= DAY 4: å…¨å¤©æ»‘é›ª ================= */}
                        {activeDay === 4 && (
                            <div className="animate-fade-in">
                                {activeView === 'timeline' && (
                                    <>
                                        <h3 className="text-xs font-extrabold text-sky-600 uppercase tracking-widest mb-4 flex items-center gap-2"><Icons.Mountain className="w-4 h-4" /> Day 4: å…¨å¤©æ»‘é›ª</h3>
                                        <HighlightCard title="æŒ‘æˆ˜å±±é¡¶" time="09:00 - 15:30" icon={Icons.Mountain} description="æ­ä¹˜ Gondola ç›´è¾¾å±±é¡¶ (921m)ã€‚" colorClass="bg-slate-100 border-slate-200 text-slate-900" />
                                        <TimelineItem time="15:30" title="é€€æˆ¿ & é‚„è£å‚™" desc="æ”¶æ‹¾è¡Œæï¼Œå‡†å¤‡ä¸‹å±±ã€‚" icon={Icons.CheckSquare} type="warning" />
                                        <TimelineItem time="16:30" title="æ‰“è»Šç›´é”å¸‚å€" desc="Jumbo Taxi å‰å¾€ Hotel JAL City (çº¦2ä¸‡æ—¥å…ƒ)ã€‚" icon={Icons.Car} type="warning" />
                                        <TimelineItem time="18:00" title="æŠµé”é£¯åº—" desc="Hotel JAL City Aomoriã€‚" icon={Icons.Hotel} />
                                        <TimelineItem time="18:30" title="æ™šé¤: å¸†ç«‹å°å±‹" desc="é’“æ‰‡è´ä½“éªŒ (Lo. 19:30)ã€‚" icon={Icons.Utensils} />
                                    </>
                                )}
                                {activeView === 'ski' && (
                                    <div className="space-y-4">
                                        <div className="bg-indigo-50 p-4 rounded-xl border border-indigo-200">
                                            <h4 className="font-bold text-indigo-800 flex items-center gap-2 mb-2"><Icons.Snowflake className="w-4 h-4"/> è¿›é˜¶æƒ…æŠ¥</h4>
                                            <div className="text-xs text-indigo-700 space-y-2">
                                                <p><strong>Night Grooming Areas:</strong> åœ°å›¾ä¸Šæ ‡ç¤ºä¸ºå¤œé—´å‹é›ªåŒº (æ–œçº¿åŒºåŸŸ)ï¼Œæ—©æ™¨ç¬¬ä¸€æ»‘å¯äº«å—å®Œç¾é¢æ¡é›ªã€‚</p>
                                                <p><strong>Own Risk Area:</strong> é›ªé“å¤–åŒºåŸŸé£é™©è‡ªè´Ÿï¼ŒåŒ…å«é›ªå´©ã€å²©çŸ³éšæ‚£ï¼Œå·¡é€»é˜Ÿä¸è´Ÿè´£ã€‚</p>
                                            </div>
                                        </div>
                                        <div className="bg-slate-800 p-4 rounded-xl text-white">
                                            <div className="font-bold text-sm text-yellow-400 mb-1">The Corkscrew (é«˜çº§)</div>
                                            <p className="text-xs text-slate-300">åœ°å›¾å·¦ä¸Šè§’ã€‚æœ€å¤§å¡åº¦ 30 åº¦çš„æ€¥æ–œé¢ï¼ŒæŒ‘æˆ˜è‡ªæˆ‘ã€‚</p>
                                        </div>
                                    </div>
                                )}
                                {activeView === 'hotel' && <HotelCard name="Hotel JAL City Aomori" type="å¸‚åŒºé¥­åº—" tags={["A-Factoryæ—", "å¸†ç«‹è´æ—©é¤"]} description="ä½ç½®æä½³ï¼Œè·ç¦»é’æ£®ç«™ã€ç¡é­”ä¹‹å®¶ã€A-Factory éƒ½åœ¨æ­¥è¡ŒèŒƒå›´å†…ã€‚" checkInTime="18:10" />}
                                {activeView === 'check' && (
                                    <div className="space-y-3">
                                        <ChecklistItem text="é¢„çº¦ 16:30 çš„ Jumbo Taxi ç›´è¾¾é’æ£®å¸‚åŒº" crucial={true} />
                                        <ChecklistItem text="å‡†æ—¶é€€æˆ¿å¹¶å½’è¿˜ç§Ÿèµè£…å¤‡" />
                                        <ChecklistItem text="èµ¶åœ¨ 19:00 å‰åˆ°è¾¾å¸†ç«‹å°å±‹ (é˜²å…³é—¨)" crucial={true} />
                                    </div>
                                )}
                            </div>
                        )}

                        {/* ================= DAY 5: ç¡é­”/è¿”ç¨‹/ä¸œäº¬ ================= */}
                        {activeDay === 5 && (
                            <div className="animate-fade-in">
                                {activeView === 'timeline' && (
                                    <>
                                        <h3 className="text-xs font-extrabold text-indigo-600 uppercase tracking-widest mb-4 flex items-center gap-2"><Icons.ArrowUpRight className="w-4 h-4" /> Day 5: ç¡é­” & è¿”ä¸œäº¬</h3>
                                        <TimelineItem time="09:00" title="å¹¿ç”°ç¥ç¤¾" desc="è‹¹æœç¥ç¤¾å‚æ‹œã€‚" icon={Icons.MapPin} />
                                        <HighlightCard title="ç¡é­”ä¹‹å®¶ WARASSE" time="10:00" icon={Icons.Camera} description="å‚è§‚å·¨å‹ç¡é­”ç¯ç¬¼ï¼Œæ„Ÿå—ç¥­å…¸éœ‡æ’¼ã€‚" colorClass="bg-red-50 border-red-200 text-red-900" />
                                        <TimelineItem time="11:00" title="A-Factory" desc="ä¹°è‹¹æœä¼´æ‰‹ç¤¼ï¼Œåƒåˆé¤ã€‚" icon={Icons.ShoppingBag} />
                                        <TimelineItem time="14:30" title="å›é…’åº—å–è¡Œæ" desc="å‡†å¤‡å»æ–°å¹²çº¿ç«™ã€‚" icon={Icons.Luggage} type="luggage" />
                                        <TimelineItem time="15:10" title="JR å‰å¾€æ–°é’æ£®" desc="å‰å¾€æ–°å¹²çº¿è½¦ç«™ã€‚" icon={Icons.Train} type="transport" />
                                        <HighlightCard title="æ–°å¹²çº¿ Hayabusa" time="16:00 - 19:30" icon={Icons.Train} description="è¿”å›ä¸œäº¬ã€‚å»ºè®®åœ¨ã€Œä¸Šé‡ç«™ (Ueno)ã€ä¸‹è½¦ã€‚" colorClass="bg-green-50 border-green-200 text-green-900" />
                                        <TimelineItem time="19:45" title="ä¸Šé‡ â†’ æ—¥æš®é‡Œ" desc="JR å±±æ‰‹çº¿ (2ç«™)ã€‚å…¥ä½ Hotel Mystaysã€‚" icon={Icons.Hotel} type="highlight" />
                                        <HighlightCard title="é¢å±‹æ­¦è— (æ™šé¤)" time="20:30" icon={Icons.Soup} description="æ¨èï¼šé¢å±‹æ­¦è— æ­¦éª¨ (ä¸Šé‡) æˆ– å·–è™ (ç§‹å¶åŸ)ã€‚" colorClass="bg-slate-800 text-white border-slate-700" badge="å¿…åƒæ²¾é¢" />
                                    </>
                                )}
                                {activeView === 'hotel' && <HotelCard name="Hotel Mystays Nippori" type="ä¸œäº¬æ®ç‚¹" tags={["äº¤é€šæ¢çº½", "æˆç”°ä¾¿åˆ©", "å®‰é™"]} description="ä½äºæ—¥æš®é‡Œï¼Œæ˜¯å¾€è¿”æˆç”°æœºåœºçš„ Skyliner æ¢çº½ç«™ã€‚å‘¨è¾¹æœ‰è‘—åçš„'è°·ä¸­é“¶åº§'è€è¡—ã€‚" checkInTime="20:00 (åˆ°è¾¾ä¸œäº¬å)" />}
                                {activeView === 'check' && (
                                    <div className="space-y-3">
                                        <ChecklistItem text="é¢„ç•™ 45 åˆ†é’Ÿä»¥ä¸Šå‰å¾€æ–°é’æ£®ç«™ (é˜²JRè¯¯ç‚¹)" crucial={true} />
                                        <ChecklistItem text="æ–°å¹²çº¿ç¥¨ä¹°åˆ°ã€Œä¸Šé‡ç«™ã€æ›´æ–¹ä¾¿" crucial={true} />
                                        <ChecklistItem text="é¢å±‹æ­¦è— 22:00 å…³é—¨ï¼Œè¯·å°½æ—©å‰å¾€" crucial={true} />
                                    </div>
                                )}
                            </div>
                        )}
                    </div>
                </div>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>