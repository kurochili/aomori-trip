<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>青森雪国之旅 2.19-2.23 (最终执行版)</title>
    <!-- 引入 React 和 Tailwind CSS -->
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* 隐藏滚动条但保留功能，提升手机端体验 */
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
        body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif; background-color: #f8fafc; }
        .animate-fade-in { animation: fadeIn 0.5s ease-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState } = React;

        // --- 1. 图标组件库 (Icon System) ---
        const Icons = {
            Snowflake: (props) => <svg {...props} fill="none" stroke="currentColor" viewBox="0 0 24 24" strokeWidth="2"><path strokeLinecap="round" strokeLinejoin="round" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z" /></svg>,
            Flame: (props) => <svg {...props} fill="none" stroke="currentColor" viewBox="0 0 24 24" strokeWidth="2"><path strokeLinecap="round" strokeLinejoin="round" d="M17.657 18.657A8 8 0 016.343 7.343S7 9 9 10c0-2 .5-5 2.986-7C14 5 16.09 5.777 17.656 7.343A7.975 7.975 0 0120 13a7.975 7.975 0 01-2.343 5.657z" /><path strokeLinecap="round" strokeLinejoin="round" d="M9.879 16.121A3 3 0 1012.015 11L11 14H9c0 .768.293 1.536.879 2.121z" /></svg>,
            Mountain: (props) => <svg {...props} fill="none" stroke="currentColor" viewBox="0 0 24 24" strokeWidth="2"><path strokeLinecap="round" strokeLinejoin="round" d="M13 10V3L4 14h7v7l9-11h-7z" /></svg>,
            Train: (props) => <svg {...props} fill="none" stroke="currentColor" viewBox="0 0 24 24" strokeWidth="2"><path strokeLinecap="round" strokeLinejoin="round" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z" /></svg>,
            Bus: (props) => <svg {...props} fill="none" stroke="currentColor" viewBox="0 0 24 24" strokeWidth="2"><path strokeLinecap="round" strokeLinejoin="round" d="M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4" /></svg>,
            Hotel: (props) => <svg {...props} fill="none" stroke="currentColor" viewBox="0 0 24 24" strokeWidth="2"><path strokeLinecap="round" strokeLinejoin="round" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4" /></svg>,
            Utensils: (props) => <svg {...props} fill="none" stroke="currentColor" viewBox="0 0 24 24" strokeWidth="2"><path strokeLinecap="round" strokeLinejoin="round" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253" /></svg>,
            CheckSquare: (props) => <svg {...props} fill="none" stroke="currentColor" viewBox="0 0 24 24" strokeWidth="2"><path strokeLinecap="round" strokeLinejoin="round" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>,
            Clock: (props) => <svg {...props} fill="none" stroke="currentColor" viewBox="0 0 24 24" strokeWidth="2"><path strokeLinecap="round" strokeLinejoin="round" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>,
            Map: (props) => <svg {...props} fill="none" stroke="currentColor" viewBox="0 0 24 24" strokeWidth="2"><path strokeLinecap="round" strokeLinejoin="round" d="M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7" /></svg>,
            ArrowUpRight: (props) => <svg {...props} fill="none" stroke="currentColor" viewBox="0 0 24 24" strokeWidth="2"><path strokeLinecap="round" strokeLinejoin="round" d="M7 11.5V14m0-2.5v-6a1.5 1.5 0 113 0m-3 6a1.5 1.5 0 00-3 0v2a7.5 7.5 0 0015 0v-5a1.5 1.5 0 00-3 0m-6-3V11m0-5.5v-1a1.5 1.5 0 013 0v1m0 0V11m0-5.5a1.5 1.5 0 013 0v3m0 0V11" /></svg>,
            Info: (props) => <svg {...props} fill="none" stroke="currentColor" viewBox="0 0 24 24" strokeWidth="2"><path strokeLinecap="round" strokeLinejoin="round" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>,
            Soup: (props) => <svg {...props} fill="none" stroke="currentColor" viewBox="0 0 24 24" strokeWidth="2"><path strokeLinecap="round" strokeLinejoin="round" d="M13 10V3L4 14h7v7l9-11h-7z" /></svg>,
            Coffee: (props) => <svg {...props} fill="none" stroke="currentColor" viewBox="0 0 24 24" strokeWidth="2"><path strokeLinecap="round" strokeLinejoin="round" d="M3 8h13a4 4 0 010 8H3z" /><path strokeLinecap="round" strokeLinejoin="round" d="M16 12h1a3 3 0 110 6H4a2 2 0 01-2-2V8" /><path strokeLinecap="round" strokeLinejoin="round" d="M8 4h.01M12 4h.01M16 4h.01" /></svg>,
            Music: (props) => <svg {...props} fill="none" stroke="currentColor" viewBox="0 0 24 24" strokeWidth="2"><path strokeLinecap="round" strokeLinejoin="round" d="M9 18V5l12-2v13" /><circle cx="6" cy="18" r="3" /><circle cx="18" cy="16" r="3" /></svg>,
            Camera: (props) => <svg {...props} fill="none" stroke="currentColor" viewBox="0 0 24 24" strokeWidth="2"><path strokeLinecap="round" strokeLinejoin="round" d="M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z" /><path strokeLinecap="round" strokeLinejoin="round" d="M15 13a3 3 0 11-6 0 3 3 0 016 0z" /></svg>,
            Car: (props) => <svg {...props} fill="none" stroke="currentColor" viewBox="0 0 24 24" strokeWidth="2"><path strokeLinecap="round" strokeLinejoin="round" d="M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4" /></svg>,
            ShoppingBag: (props) => <svg {...props} fill="none" stroke="currentColor" viewBox="0 0 24 24" strokeWidth="2"><path strokeLinecap="round" strokeLinejoin="round" d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z" /></svg>,
            List: (props) => <svg {...props} fill="none" stroke="currentColor" viewBox="0 0 24 24" strokeWidth="2"><path strokeLinecap="round" strokeLinejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2" /></svg>,
            Luggage: (props) => <svg {...props} fill="none" stroke="currentColor" viewBox="0 0 24 24" strokeWidth="2"><path strokeLinecap="round" strokeLinejoin="round" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10" /></svg>,
            AlertTriangle: (props) => <svg {...props} fill="none" stroke="currentColor" viewBox="0 0 24 24" strokeWidth="2"><path strokeLinecap="round" strokeLinejoin="round" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z" /></svg>,
            Ticket: (props) => <svg {...props} fill="none" stroke="currentColor" viewBox="0 0 24 24" strokeWidth="2"><path strokeLinecap="round" strokeLinejoin="round" d="M15 5v2m0 4v2m0 4v2M5 5a2 2 0 00-2 2v3a2 2 0 110 4v3a2 2 0 002 2h14a2 2 0 002-2v-3a2 2 0 110-4V7a2 2 0 00-2-2H5z" /></svg>,
            MapPin: (props) => <svg {...props} fill="none" stroke="currentColor" viewBox="0 0 24 24" strokeWidth="2"><path strokeLinecap="round" strokeLinejoin="round" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" /><path strokeLinecap="round" strokeLinejoin="round" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" /></svg>,
            Bed: (props) => <svg {...props} fill="none" stroke="currentColor" viewBox="0 0 24 24" strokeWidth="2"><path strokeLinecap="round" strokeLinejoin="round" d="M5 12h14M5 12a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v4a2 2 0 01-2 2M5 12a2 2 0 00-2 2v4a2 2 0 002 2h14a2 2 0 002-2v-4a2 2 0 00-2-2m-2-4h.01M17 16h.01" /></svg>
        };

        // --- 2. 界面子组件 ---

        const DayTab = ({ active, onClick, day, date }) => (
            <button onClick={onClick} className={`flex-1 py-3 flex flex-col items-center justify-center transition-all border-b-4 ${active ? 'border-sky-500 bg-white text-sky-800' : 'border-transparent text-slate-400 hover:text-slate-600 hover:bg-slate-50'}`}>
                <span className="text-[10px] font-extrabold uppercase tracking-widest">Day {day}</span>
                <span className="text-sm font-bold">{date}</span>
            </button>
        );

        const ViewTab = ({ active, onClick, icon: Icon, label }) => (
            <button onClick={onClick} className={`flex-1 py-2.5 flex items-center justify-center gap-2 text-xs font-bold transition-all border-r border-slate-100 last:border-0 ${active ? 'text-sky-700 bg-sky-50 shadow-inner' : 'text-slate-400 hover:bg-white'}`}>
                <Icon className={`w-4 h-4 ${active ? 'text-sky-600' : 'text-slate-400'}`} />
                {label}
            </button>
        );

        const HighlightCard = ({ title, time, icon: Icon, description, colorClass, badge, subtext }) => (
            <div className={`rounded-xl p-4 border shadow-sm ${colorClass} mb-4 relative overflow-hidden group hover:shadow-md transition-all`}>
                <div className="absolute -right-6 -top-6 opacity-10 rotate-12 transform scale-150"><Icon className="w-32 h-32" /></div>
                <div className="relative z-10 flex gap-4">
                    <div className="bg-white/90 p-3 rounded-xl shadow-sm h-min backdrop-blur-sm shrink-0"><Icon className="w-6 h-6" /></div>
                    <div className="flex-1">
                        <div className="flex items-center gap-2 mb-1.5">
                            <span className="text-[10px] font-bold px-2 py-0.5 rounded-full bg-white/60 backdrop-blur-sm border border-black/5">{time}</span>
                            {badge && <span className="text-[10px] font-bold px-2 py-0.5 rounded-full bg-rose-500 text-white shadow-sm animate-pulse">{badge}</span>}
                        </div>
                        <h3 className="font-bold text-lg leading-tight mb-1">{title}</h3>
                        <p className="text-sm opacity-90 leading-relaxed mb-2">{description}</p>
                        {subtext && <div className="text-xs bg-white/40 p-2 rounded-lg font-medium flex items-center gap-1.5"><Icons.Info className="w-3 h-3" /> {subtext}</div>}
                    </div>
                </div>
            </div>
        );

        const TimelineItem = ({ time, title, desc, icon: Icon, type = 'default' }) => {
            let iconBg = 'bg-white border-slate-100 text-slate-500';
            if (type === 'transport') iconBg = 'bg-sky-50 border-sky-100 text-sky-600';
            if (type === 'luggage') iconBg = 'bg-amber-50 border-amber-200 text-amber-600';
            if (type === 'warning') iconBg = 'bg-rose-50 border-rose-200 text-rose-600';
            if (type === 'highlight') iconBg = 'bg-indigo-50 border-indigo-200 text-indigo-600';

            return (
                <div className="flex gap-4 relative pl-2 group">
                    <div className="absolute left-[19px] top-8 bottom-[-16px] w-0.5 bg-slate-200 group-last:hidden"></div>
                    <div className="relative z-10 flex flex-col items-center">
                        <div className={`w-10 h-10 rounded-full flex items-center justify-center border-2 shadow-sm transition-colors ${iconBg}`}><Icon className="w-4 h-4" /></div>
                    </div>
                    <div className="pb-8 flex-1">
                        <div className="flex items-baseline justify-between mb-1">
                            <h4 className="font-bold text-slate-800 text-sm">{title}</h4>
                            <span className="text-xs font-mono text-slate-400 font-medium">{time}</span>
                        </div>
                        <p className="text-xs text-slate-500 leading-relaxed bg-white p-2.5 rounded-lg border border-slate-100 shadow-sm">{desc}</p>
                    </div>
                </div>
            );
        };

        const ChecklistItem = ({ text, crucial = false }) => {
            const [checked, setChecked] = useState(false);
            return (
                <div onClick={() => setChecked(!checked)} className={`flex items-start gap-3 p-3 rounded-xl border cursor-pointer transition-all mb-2 ${checked ? 'bg-emerald-50 border-emerald-200' : 'bg-white border-slate-200 hover:border-slate-300'}`}>
                    <div className={`w-5 h-5 rounded border flex items-center justify-center mt-0.5 transition-colors ${checked ? 'bg-emerald-500 border-emerald-500' : 'bg-white border-slate-300'}`}>
                        {checked && <Icons.CheckSquare className="w-3.5 h-3.5 text-white" />}
                    </div>
                    <div className="flex-1">
                        <p className={`text-sm font-medium transition-colors ${checked ? 'text-emerald-800 line-through opacity-70' : 'text-slate-700'}`}>{text}</p>
                        {crucial && !checked && <span className="inline-block mt-1 text-[10px] bg-rose-100 text-rose-600 px-1.5 py-0.5 rounded font-bold">极重要</span>}
                    </div>
                </div>
            );
        };

        const HotelCard = ({ name, type, tags, description, checkInTime }) => (
            <div className="bg-white rounded-xl border border-slate-200 shadow-sm overflow-hidden mb-4">
                <div className="bg-slate-800 p-3 text-white flex justify-between items-center">
                    <div className="flex items-center gap-2"><Icons.Hotel className="w-4 h-4 text-sky-400" /><span className="font-bold text-sm">{name}</span></div>
                    <span className="text-[10px] bg-white/20 px-2 py-0.5 rounded">{type}</span>
                </div>
                <div className="p-4">
                    <div className="flex flex-wrap gap-2 mb-3">
                        {tags.map((tag, i) => <span key={i} className="text-[10px] bg-slate-100 text-slate-600 px-2 py-1 rounded font-medium">{tag}</span>)}
                    </div>
                    <p className="text-xs text-slate-600 leading-relaxed mb-3">{description}</p>
                    {checkInTime && <div className="flex items-center gap-2 text-xs font-bold text-slate-500 bg-slate-50 p-2 rounded"><Icons.Clock className="w-3 h-3" /> 建议入住: {checkInTime}</div>}
                </div>
            </div>
        );

        // --- 3. 主应用程序 ---

        function App() {
            const [activeDay, setActiveDay] = useState(1);
            const [activeView, setActiveView] = useState('timeline');
            const [jrStatusDay1, setJrStatusDay1] = useState('Normal'); 
            const [busStatusDay2, setBusStatusDay2] = useState('Normal');
            
            // 只有 Day 3 和 Day 4 显示雪场地图选项
            const showSkiTab = activeDay === 3 || activeDay === 4;

            return (
                <div className="max-w-md mx-auto bg-slate-50 min-h-screen font-sans border-x border-slate-200 shadow-2xl flex flex-col">
                    
                    {/* 顶部 Header */}
                    <div className="bg-slate-900 text-white p-4 sticky top-0 z-50 shadow-lg">
                        <div className="flex justify-between items-center">
                            <div>
                                <h1 className="text-lg font-bold flex items-center gap-2"><Icons.Snowflake className="w-5 h-5 text-sky-400" /> 青森雪国全攻略</h1>
                                <p className="text-slate-400 text-xs mt-0.5">2.19 - 2.23 (5天4夜)</p>
                            </div>
                            <div className="bg-gradient-to-r from-sky-500 to-indigo-500 px-3 py-1 rounded-full text-xs font-bold shadow-lg">Final V6.0</div>
                        </div>
                    </div>

                    {/* 日期导航栏 */}
                    <div className="flex bg-white shadow-sm sticky top-[72px] z-40 overflow-x-auto no-scrollbar">
                        {[1,2,3,4,5].map(d => <DayTab key={d} active={activeDay === d} onClick={() => { setActiveDay(d); if(d!==3 && d!==4 && activeView==='ski') setActiveView('timeline'); }} day={d} date={`2/${18+d}`} />)}
                    </div>

                    {/* 视图切换栏 */}
                    <div className="flex border-b border-slate-200 bg-white sticky top-[130px] z-30 shadow-sm">
                        <ViewTab active={activeView === 'timeline'} onClick={() => setActiveView('timeline')} icon={Icons.Clock} label="时间轴" />
                        {showSkiTab && <ViewTab active={activeView === 'ski'} onClick={() => setActiveView('ski')} icon={Icons.Map} label="雪场地图" />}
                        <ViewTab active={activeView === 'hotel'} onClick={() => setActiveView('hotel')} icon={Icons.Hotel} label="住宿" />
                        <ViewTab active={activeView === 'check'} onClick={() => setActiveView('check')} icon={Icons.List} label="清单" />
                    </div>

                    <div className="flex-1 overflow-y-auto p-4 custom-scrollbar pb-20">
                        {/* ================= DAY 1: 弘前/暖炉 ================= */}
                        {activeDay === 1 && (
                            <div className="animate-fade-in">
                                {activeView === 'timeline' && (
                                    <>
                                        <h3 className="text-xs font-extrabold text-orange-500 uppercase tracking-widest mb-4 flex items-center gap-2"><Icons.Flame className="w-4 h-4" /> Day 1: 暖炉列车 · 出发全流程</h3>
                                        
                                        <HighlightCard
                                            title="出发前必读 · 5 大生死线"
                                            time="务必截图"
                                            icon={Icons.AlertTriangle}
                                            description="1) 12:10/12:40 生死车次；2) 抵达后先买暖炉票；3) 随身≥15,000日元现金；4) 行李寄存弘前站1楼，绝不带去五所川原；5) 暴雪 JR 停运立即切 Plan B。"
                                            colorClass="bg-amber-50 border-amber-200 text-amber-900"
                                            badge="关键"
                                            subtext="JR 五能线易停运，12:00 前确认运行状况。"
                                        />

                                        <TimelineItem time="07:15-08:35" title="羽田 → 青森" desc="JAL 141 早班机，提前1小时到 T1。" icon={Icons.Train} type="transport" />
                                        <TimelineItem time="09:55-10:50" title="青森机场 → 弘前站" desc="空港巴士 1,200 日元（现金）。" icon={Icons.Bus} type="transport" />
                                        <TimelineItem time="10:50" title="弘前站寄存行李" desc="1 楼寄存柜，12:30 前务必存好，全程轻装。" icon={Icons.Luggage} type="luggage" />
                                        <TimelineItem time="11:00-12:00" title="午餐：弘前站周边" desc="BRICK A-FACTORY，苹果酒/苹果派；或就近速食。" icon={Icons.Utensils} />

                                        <div className="bg-white rounded-xl border border-slate-200 p-2 mb-6 shadow-sm">
                                            <div className="text-[10px] text-center text-slate-400 font-bold uppercase mb-1">12:00 JR 状况 · 选择方案</div>
                                            <div className="grid grid-cols-2 gap-2">
                                                <button onClick={() => setJrStatusDay1('Normal')} className={`py-2 rounded text-xs font-bold ${jrStatusDay1 === 'Normal' ? 'bg-orange-500 text-white' : 'bg-slate-100 text-slate-500'}`}>JR 正常（Plan A）</button>
                                                <button onClick={() => setJrStatusDay1('Suspended')} className={`py-2 rounded text-xs font-bold ${jrStatusDay1 === 'Suspended' ? 'bg-slate-500 text-white' : 'bg-slate-100 text-slate-500'}`}>JR 停运（Plan B）</button>
                                            </div>
                                        </div>

                                        {jrStatusDay1 === 'Normal' ? (
                                            <>
                                                <TimelineItem time="12:10-12:54" title="弘前 → 五所川原" desc="Resort 白神号（需预约）。" icon={Icons.Train} type="transport" />
                                                <TimelineItem time="12:54-13:05" title="黄金空档：先买暖炉票" desc="下 JR 左转到津轻铁道窗口，现金买票再去玩。" icon={Icons.Ticket} type="warning" />
                                                <TimelineItem time="13:10-13:50" title="立佞武多之馆" desc="步行 5 分钟，30-40 分钟速览巨型灯笼。" icon={Icons.MapPin} />
                                                <TimelineItem time="13:55-14:05" title="回站排队" desc="拿着票直接排队，抢炉边座位。" icon={Icons.List} />
                                                <HighlightCard title="暖炉列车体验" time="14:10-14:55" icon={Icons.Flame} description="津轻铁道，车内烤鱿鱼/清酒，核心体验。" colorClass="bg-orange-50 border-orange-200 text-orange-900" badge="现金" />
                                                <TimelineItem time="15:20-15:55" title="金木 → 五所川原" desc="普通列车返回五所川原。" icon={Icons.Train} type="transport" />
                                                <TimelineItem time="16:46-17:35" title="五所川原 → 弘前" desc="JR 五能线回弘前。" icon={Icons.Train} type="transport" />
                                            </>
                                        ) : (
                                            <>
                                                <TimelineItem time="12:50" title="Plan B 占位" desc="JR 停运则改乘巴士/弘前市区行程（可补充具体线路）。" icon={Icons.Info} />
                                            </>
                                        )}

                                        <HighlightCard title="大鳄日归温泉 + 晚餐" time="17:55-21:00" icon={Icons.Soup} description="17:55 弘前→大鳄（JR 奥羽本线 12 分钟）；18:10-18:15 步行；18:15-19:00 豆芽拉面；19:00-20:00 温泉；20:12-20:24 回弘前。" colorClass="bg-indigo-50 border-indigo-200 text-indigo-900" />
                                        <TimelineItem time="20:30-20:40" title="取行李" desc="回弘前站取寄存行李。" icon={Icons.Luggage} type="luggage" />
                                        <TimelineItem time="20:40-20:55" title="打车至酒店" desc="前往东横INN 弘前站前。" icon={Icons.Car} type="transport" />
                                        <TimelineItem time="21:00" title="办理入住" desc="Toyoko Inn Hirosaki Ekimae。" icon={Icons.Hotel} />
                                    </>
                                )}
                                {activeView === 'hotel' && <HotelCard name="Toyoko Inn Hirosaki Ekimae" type="商务饭店" tags={["免费早餐", "车站1分钟", "高性价比"]} description="标准化日式商务饭店。优点是极其干净、位置绝佳。免费早餐有简单的饭团和味噌汤。" checkInTime="21:00" />}
                                {activeView === 'check' && (
                                    <div className="space-y-3">
                                        <ChecklistItem text="预约 Resort 白神号 (12:10) 指定席" crucial={true} />
                                        <ChecklistItem text="准备 20,000 日元现金 (暖炉/巴士不收卡)" crucial={true} />
                                        <ChecklistItem text="早上行李必须寄存在弘前站 1 楼" crucial={true} />
                                        <ChecklistItem text="大鳄 Wani Come 晚餐 19:00 关门，先吃再泡" crucial={true} />
                                    </div>
                                )}
                            </div>
                        )}

                        {/* ================= DAY 2: 岩木山/冬之櫻 ================= */}
                        {activeDay === 2 && (
                            <div className="animate-fade-in">
                                {activeView === 'timeline' && (
                                    <>
                                        <h3 className="text-xs font-extrabold text-pink-500 uppercase tracking-widest mb-4 flex items-center gap-2"><Icons.Mountain className="w-4 h-4" /> Day 2: 岩木山 · 冬之樱</h3>
                                        
                                        <HighlightCard
                                            title="出发前必读 · 4 大生死线"
                                            time="务必截图"
                                            icon={Icons.AlertTriangle}
                                            description="1) 09:10 去程 & 12:40 回程巴士必须死守；2) 回程务必在市役所前下车；3) 看灯光秀会错过16:00接驳，晚间需自费铁路+打车去酒店；4) 行李早上寄存弘前站，晚间取。"
                                            colorClass="bg-rose-50 border-rose-200 text-rose-900"
                                            badge="关键"
                                        />

                                        <h4 className="text-[10px] font-bold text-slate-500 uppercase mb-2">阶段1：早安弘前 & 岩木山出发</h4>
                                        <TimelineItem time="07:00-08:30" title="早餐" desc="酒店内免费早餐，吃饱再出门。" icon={Icons.Utensils} />
                                        <TimelineItem time="08:30-08:50" title="退房 & 寄存行李" desc="行李寄存弘前站储物柜（晚间回站取）。" icon={Icons.Luggage} type="luggage" />
                                        <TimelineItem time="09:00-09:10" title="前往3号月台" desc="JR站前弘南巴士枯木平线，确认方向。" icon={Icons.MapPin} />
                                        <TimelineItem time="09:10-09:49" title="弘前 → 岩木山神社" desc="弘南巴士枯木平线，约720日元，备零钞。" icon={Icons.Bus} type="transport" />

                                        <h4 className="text-[10px] font-bold text-slate-500 uppercase mt-4 mb-2">阶段2：雪中参拜 & 午餐</h4>
                                        <TimelineItem time="09:50-" title="岩木山神社参拜" desc="雪中红鸟居/津轻富士合影，苹果御守。" icon={Icons.Mountain} />

                                        <div className="bg-white rounded-xl border border-slate-200 p-2 mb-6 shadow-sm">
                                            <div className="text-[10px] text-center text-slate-400 font-bold uppercase mb-1">12:40 回程巴士</div>
                                            <div className="grid grid-cols-2 gap-2">
                                                <button onClick={() => setBusStatusDay2('Normal')} className={`py-2 rounded text-xs font-bold ${busStatusDay2 === 'Normal' ? 'bg-green-500 text-white' : 'bg-slate-100 text-slate-500'}`}>准时上车</button>
                                                <button onClick={() => setBusStatusDay2('Missed')} className={`py-2 rounded text-xs font-bold ${busStatusDay2 === 'Missed' ? 'bg-rose-500 text-white' : 'bg-slate-100 text-slate-500'}`}>错过了</button>
                                            </div>
                                        </div>

                                        {busStatusDay2 === 'Normal' ? (
                                            <TimelineItem time="12:40-13:18" title="岩木山神社 → 市役所前" desc="⚠️ 必须在市役所前下车，不回弘前站。" icon={Icons.Bus} type="warning" />
                                        ) : (
                                            <TimelineItem time="14:40" title="下一班巴士" desc="错过则行程延误，午餐/灯光需压缩。" icon={Icons.AlertTriangle} type="warning" />
                                        )}

                                        <TimelineItem time="13:20-13:25" title="步行至餐厅" desc="下车过马路即达藤田纪念庭园。" icon={Icons.MapPin} />
                                        <TimelineItem time="13:25-" title="午餐：Salon de cafe (藤田庭园洋馆)" desc="必点苹果咖哩/苹果派。" icon={Icons.Utensils} />

                                        <h4 className="text-[10px] font-bold text-slate-500 uppercase mt-4 mb-2">阶段3：弘前散策 & 冬之樱</h4>
                                        <TimelineItem time="14:30-" title="弘前公园漫步" desc="追手门进，冬季天守/下乘桥红桥。" icon={Icons.Map} />
                                        <HighlightCard title="冬之樱·灯光秀" time="16:30-" icon={Icons.Snowflake} description="弘前公园外濠，粉色灯光照亮积雪樱花。" colorClass="bg-pink-50 border-pink-200 text-pink-900" badge="必看" />
                                        <TimelineItem time="17:30" title="回弘前站取行李" desc="打车约1000日元，城东口取寄存行李。" icon={Icons.Luggage} type="luggage" />

                                        <h4 className="text-[10px] font-bold text-slate-500 uppercase mt-4 mb-2">阶段4：苹果温泉之夜</h4>
                                        <TimelineItem time="18:00-18:13" title="弘前 → 平贺" desc="弘南铁道（弘南线）430日元；备选 18:30 班次。" icon={Icons.Train} type="transport" />
                                        <TimelineItem time="18:15-18:25" title="平贺站 → 酒店" desc="打车约1000日元（步行雪地不推荐）。" icon={Icons.Car} type="transport" />
                                        <TimelineItem time="18:30" title="入住：南田温泉 Apple Land" desc="顺利抵达。" icon={Icons.Hotel} />
                                        <TimelineItem time="19:00" title="晚餐" desc="饭店餐厅，苹果创意料理。" icon={Icons.Utensils} />
                                        <TimelineItem time="20:00" title="津轻三味线表演" desc="大厅免费演出（约20:10开场）。" icon={Icons.Music} />
                                        <HighlightCard title="苹果风吕" time="21:00" icon={Icons.Soup} description="大浴场漂浮真苹果，结束完美一天。" colorClass="bg-red-50 border-red-200 text-red-900" />
                                    </>
                                )}
                                {activeView === 'hotel' && <HotelCard name="南田温泉 Hotel Apple Land" type="温泉饭店" tags={["苹果风吕", "津轻三味线"]} description="招牌是大浴场漂浮著无数真实红苹果。晚上 20:00 大堂有免费的津轻三味线演奏。" checkInTime="18:30" />}
                                {activeView === 'check' && (
                                    <div className="space-y-3">
                                        <ChecklistItem text="死守 09:10 去程和 12:40 回程巴士" crucial={true} />
                                        <ChecklistItem text="回程巴士务必在「市役所前」下车" crucial={true} />
                                        <ChecklistItem text="准备晚上自行前往饭店的交通费 (约 2000 日元)" />
                                    </div>
                                )}
                            </div>
                        )}

                        {/* ================= DAY 3: 移動/滑雪 ================= */}
                        {activeDay === 3 && (
                            <div className="animate-fade-in">
                                {activeView === 'timeline' && (
                                    <>
                                        <h3 className="text-xs font-extrabold text-sky-600 uppercase tracking-widest mb-4 flex items-center gap-2"><Icons.Snowflake className="w-4 h-4" /> Day 3: 直奔雪山 · Aomori Spring</h3>
                                        <TimelineItem time="08:30" title="退房" desc="大堂等出租车。" icon={Icons.Hotel} />
                                        <TimelineItem time="09:00" title="出租车直达 Rockwood" desc="Hokusei/Green Taxi 约12,500日元。" icon={Icons.Car} type="warning" />
                                        <TimelineItem time="10:00" title="抵达 Rockwood Hotel" desc="办理寄存/入住；1F 租赁装备。" icon={Icons.Hotel} />
                                        <HighlightCard title="全日滑雪" time="11:00-" icon={Icons.Snowflake} description="Aomori Spring 滑雪；优先 Gondola 上山体验长滑。" colorClass="bg-sky-50 border-sky-200 text-sky-900" />
                                        <TimelineItem time="13:00" title="午餐" desc="Ramen House 拉面或自备简餐。" icon={Icons.Utensils} />
                                        <TimelineItem time="15:30" title="休整/热饮" desc="雪场内 Mountain Cafe 等补给。" icon={Icons.Coffee} />
                                        <TimelineItem time="19:00" title="饭店自助晚餐" desc="Rockwood 自助，津轻特色。" icon={Icons.Utensils} />
                                        <TimelineItem time="21:00" title="温泉/早休息" desc="泡汤放松，准备隔天全天滑。" icon={Icons.Soup} />
                                    </>
                                )}
                                {activeView === 'ski' && (
                                    <div className="space-y-4">
                                        {/* 嵌入雪场地图 (本地文件 + 可缩放) */}
                                        <div
                                            id="ski-map-pan"
                                            className="rounded-xl overflow-hidden shadow-lg border border-slate-200 bg-white"
                                            style={{ touchAction: 'none' }}
                                        >
                                            <img 
                                                src="./assetsski-map.png" 
                                                alt="Aomori Spring Ski Resort Map (2026)" 
                                                className="w-full h-auto object-cover select-none"
                                                draggable={false}
                                                loading="lazy"
                                            />
                                            <a
                                                href="./assetsski-map.png"
                                                target="_blank"
                                                rel="noopener noreferrer"
                                                className="block p-3 bg-slate-800 text-white text-xs text-center flex justify-center items-center gap-2 hover:bg-slate-700"
                                            >
                                                <Icons.Map className="w-4 h-4"/> 2026 官方雪道图（点击查看原图，可缩放）
                                            </a>
                                        </div>
                                        <a
                                            href="./assetsski-map.png"
                                            target="_blank"
                                            rel="noopener noreferrer"
                                            className="inline-flex items-center gap-2 text-xs font-semibold text-sky-700 underline"
                                        >
                                            打开原图（新标签，原生缩放）
                                        </a>

                                        <div className="bg-sky-50 p-4 rounded-xl border border-sky-200">
                                            <h4 className="font-bold text-sky-800 flex items-center gap-2 mb-2"><Icons.Mountain className="w-4 h-4"/> 关键数据 (PDF提取)</h4>
                                            <div className="grid grid-cols-2 gap-2 text-xs text-sky-700">
                                                <div className="bg-white p-2 rounded shadow-sm"><strong>Gondola:</strong> 2,967m (直达山顶)</div>
                                                <div className="bg-white p-2 rounded shadow-sm"><strong>Quad 2:</strong> 1,449m (常用)</div>
                                                <div className="bg-white p-2 rounded shadow-sm"><strong>Diamond Lift:</strong> 1,139m</div>
                                                <div className="bg-white p-2 rounded shadow-sm"><strong>最长滑走:</strong> 3.4km</div>
                                            </div>
                                        </div>
                                        
                                        <h4 className="text-xs font-bold text-slate-400 uppercase mt-4 mb-2">推荐路线</h4>
                                        <div className="bg-green-50 p-3 rounded-lg border border-green-200 mb-2">
                                            <div className="flex justify-between items-center mb-1"><div className="font-bold text-green-800 text-sm">Sunshine Course</div><span className="text-[10px] bg-green-200 px-2 rounded">Beginner</span></div>
                                            <p className="text-xs text-green-700">地图最右侧。3.4km 长滑道，从山顶 Gondola 站一路滑回饭店，风景绝佳。</p>
                                        </div>
                                        <div className="bg-blue-50 p-3 rounded-lg border border-blue-200 mb-2">
                                            <div className="flex justify-between items-center mb-1"><div className="font-bold text-blue-800 text-sm">Twister Course</div><span className="text-[10px] bg-blue-200 px-2 rounded">Intermediate</span></div>
                                            <p className="text-xs text-blue-700">地图左侧。2.2km 曲折路线，适合进阶练习。</p>
                                        </div>
                                        
                                        <h4 className="text-xs font-bold text-slate-400 uppercase mt-4 mb-2">餐厅设施 (地图编号)</h4>
                                        <div className="grid grid-cols-2 gap-2">
                                            <div className="bg-white border p-2 rounded text-xs"><strong>6. Ramen House</strong><br/><span className="text-slate-400">山脚 (午餐首选)</span></div>
                                            <div className="bg-white border p-2 rounded text-xs"><strong>1. Rockwood Hall</strong><br/><span className="text-slate-400">饭店内 (晚餐)</span></div>
                                            <div className="bg-white border p-2 rounded text-xs"><strong>4. Mountain Cafe</strong><br/><span className="text-slate-400">半山腰休息</span></div>
                                            <div className="bg-white border p-2 rounded text-xs"><strong>2. Restaurant KAIZAN</strong><br/><span className="text-slate-400">饭店内</span></div>
                                        </div>
                                    </div>
                                )}
                                {activeView === 'hotel' && <HotelCard name="Rockwood Hotel & Spa" type="滑雪度假村" tags={["Ski-in/out", "露天溫泉", "自助餐"]} description="位于岩木山腰，出门即是雪场。露天温泉可以眺望日本海和津轻平原。" checkInTime="10:00 (先存行李)" />}
                                {activeView === 'check' && (
                                    <div className="space-y-3">
                                        <ChecklistItem text="确认出租车已预约 (09:00, 12,500日元)" crucial={true} />
                                        <ChecklistItem text="提前准备好午餐/零食 (山上贵)" />
                                        <ChecklistItem text="确认滑雪租赁尺寸" />
                                    </div>
                                )}
                            </div>
                        )}

                        {/* ================= DAY 4: 全天滑雪 ================= */}
                        {activeDay === 4 && (
                            <div className="animate-fade-in">
                                {activeView === 'timeline' && (
                                    <>
                                        <h3 className="text-xs font-extrabold text-sky-600 uppercase tracking-widest mb-4 flex items-center gap-2"><Icons.Mountain className="w-4 h-4" /> Day 4: 全天滑雪 · 下山转场</h3>
                                        <HighlightCard title="挑战山顶" time="09:00 - 15:30" icon={Icons.Mountain} description="Gondola 直达山顶 (921m)，自由滑行；注意体力与收队时间。" colorClass="bg-slate-100 border-slate-200 text-slate-900" />
                                        <TimelineItem time="12:30" title="午餐/补给" desc="雪场餐厅简单补给，留足下午体力。" icon={Icons.Utensils} />
                                        <TimelineItem time="15:30" title="归还装备 & 退房" desc="收拾行李，准时下山。" icon={Icons.CheckSquare} type="warning" />
                                        <TimelineItem time="16:30" title="Jumbo Taxi 下山" desc="直达青森市区 Hotel JAL City，约2万日元（需预约）。" icon={Icons.Car} type="warning" />
                                        <TimelineItem time="18:00" title="抵达 & 办理入住" desc="Hotel JAL City Aomori。" icon={Icons.Hotel} />
                                        <TimelineItem time="18:30" title="晚餐：帆立小屋" desc="钓扇贝体验，Lo. 19:30，注意时间。" icon={Icons.Utensils} />
                                        <TimelineItem time="21:00" title="夜间散步/早休息" desc="视体力安排，备足明日返程。" icon={Icons.Bed} />
                                    </>
                                )}
                                {activeView === 'ski' && (
                                    <div className="space-y-4">
                                        <div className="bg-indigo-50 p-4 rounded-xl border border-indigo-200">
                                            <h4 className="font-bold text-indigo-800 flex items-center gap-2 mb-2"><Icons.Snowflake className="w-4 h-4"/> 进阶情报</h4>
                                            <div className="text-xs text-indigo-700 space-y-2">
                                                <p><strong>Night Grooming Areas:</strong> 地图上标示为夜间压雪区 (斜线区域)，早晨第一滑可享受完美面条雪。</p>
                                                <p><strong>Own Risk Area:</strong> 雪道外区域风险自负，包含雪崩、岩石隐患，巡逻队不负责。</p>
                                            </div>
                                        </div>
                                        <div className="bg-slate-800 p-4 rounded-xl text-white">
                                            <div className="font-bold text-sm text-yellow-400 mb-1">The Corkscrew (高级)</div>
                                            <p className="text-xs text-slate-300">地图左上角。最大坡度 30 度的急斜面，挑战自我。</p>
                                        </div>
                                    </div>
                                )}
                                {activeView === 'hotel' && <HotelCard name="Hotel JAL City Aomori" type="市区饭店" tags={["A-Factory旁", "帆立贝早餐"]} description="位置极佳，距离青森站、睡魔之家、A-Factory 都在步行范围内。" checkInTime="18:10" />}
                                {activeView === 'check' && (
                                    <div className="space-y-3">
                                        <ChecklistItem text="预约 16:30 的 Jumbo Taxi 直达青森市区" crucial={true} />
                                        <ChecklistItem text="准时退房并归还租赁装备" />
                                        <ChecklistItem text="赶在 19:00 前到达帆立小屋 (防关门)" crucial={true} />
                                    </div>
                                )}
                            </div>
                        )}

                        {/* ================= DAY 5: 睡魔/返程/东京 ================= */}
                        {activeDay === 5 && (
                            <div className="animate-fade-in">
                                {activeView === 'timeline' && (
                                    <>
                                        <h3 className="text-xs font-extrabold text-indigo-600 uppercase tracking-widest mb-4 flex items-center gap-2"><Icons.ArrowUpRight className="w-4 h-4" /> Day 5: 睡魔 · 淺蟲 · 返东京</h3>
                                        
                                        <h4 className="text-[10px] font-bold text-slate-500 uppercase mb-2">阶段1：青森文化巡礼</h4>
                                        <TimelineItem time="08:30" title="退房 & 寄存行李" desc="JAL City 前台寄存，返程路上取。" icon={Icons.Luggage} type="luggage" />
                                        <TimelineItem time="09:00-09:40" title="广田神社（苹果神社）" desc="步行/计程车，雪中绘马与苹果造型。" icon={Icons.MapPin} />
                                        <HighlightCard title="睡魔之家 WARASSE" time="10:00-11:00" icon={Icons.Camera} description="巨型睡魔灯笼，门票约620日元。" colorClass="bg-red-50 border-red-200 text-red-900" />
                                        <TimelineItem time="11:00-12:00" title="A-Factory" desc="伴手礼/苹果酒/简餐，睡魔之家隔壁。" icon={Icons.ShoppingBag} />

                                        <h4 className="text-[10px] font-bold text-slate-500 uppercase mt-4 mb-2">阶段2：浅虫温泉看海</h4>
                                        <TimelineItem time="12:20-12:43" title="青森 → 浅虫温泉" desc="青之森铁路 460 日元，陆奥湾雪景。" icon={Icons.Train} type="transport" />
                                        <TimelineItem time="12:50-13:50" title="浅虫温泉观光" desc="Yu~sa 展望台/海边散步/湯之島/鶴龜屋食堂。" icon={Icons.Map} />
                                        <TimelineItem time="14:00-14:24" title="浅虫温泉 → 青森" desc="青之森铁路返市区。" icon={Icons.Train} type="transport" />

                                        <h4 className="text-[10px] font-bold text-slate-500 uppercase mt-4 mb-2">阶段3：新干线返程</h4>
                                        <TimelineItem time="14:30-15:00" title="取行李" desc="回 JAL City 取寄存。" icon={Icons.Luggage} type="luggage" />
                                        <TimelineItem time="15:10-15:16" title="青森 → 新青森" desc="JR 奥羽本线，预留缓冲。" icon={Icons.Train} type="transport" />
                                        <TimelineItem time="15:30-16:00" title="旬味馆补货" desc="新青森站便当/苹果特产。" icon={Icons.ShoppingBag} />
                                        <HighlightCard title="新干线 Hayabusa" time="16:00-19:30" icon={Icons.Train} description="返回东京，建议买到上野站下车。" colorClass="bg-green-50 border-green-200 text-green-900" />

                                        <h4 className="text-[10px] font-bold text-slate-500 uppercase mt-4 mb-2">阶段4：东京之夜</h4>
                                        <TimelineItem time="19:30-19:45" title="抵达上野站" desc="换乘 JR 山手/京滨东北线。" icon={Icons.MapPin} />
                                        <TimelineItem time="19:50-20:00" title="上野 → 日暮里" desc="JR 2 站，约 4 分钟。" icon={Icons.Train} type="transport" />
                                        <TimelineItem time="20:10" title="入住 Hotel Mystays" desc="放行李，轻装出门。" icon={Icons.Hotel} />
                                        <HighlightCard title="面屋武藏 (晚餐)" time="20:30-21:30" icon={Icons.Soup} description="武骨(上野)或秋叶原巖虎，注意 22:00 关门。" colorClass="bg-slate-800 text-white border-slate-700" badge="必吃沾面" />
                                    </>
                                )}
                                {activeView === 'hotel' && <HotelCard name="Hotel Mystays Nippori" type="东京据点" tags={["交通枢纽", "成田便利", "安静"]} description="位于日暮里，是往返成田机场的 Skyliner 枢纽站。周边有著名的'谷中银座'老街。" checkInTime="20:00 (到达东京后)" />}
                                {activeView === 'check' && (
                                    <div className="space-y-3">
                                        <ChecklistItem text="预留 45 分钟以上前往新青森站 (防JR误点)" crucial={true} />
                                        <ChecklistItem text="新干线票买到「上野站」更方便" crucial={true} />
                                        <ChecklistItem text="面屋武藏 22:00 关门，请尽早前往" crucial={true} />
                                    </div>
                                )}
                            </div>
                        )}
                    </div>
                </div>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>